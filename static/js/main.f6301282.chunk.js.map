{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","props","state","news_ids","stories","fetch","then","response","json","setState","slice","populateData","urls","this","map","id","Promise","all","url","res","data","i","length","storydata","push","method","headers","body","JSON","stringify","key","storyData","highlights","entries","index","number","Container","className","React","Component","Entry","expanded","expand","bind","goToWebsite","window","location","href","highlightRows","x","text","onClick","host","scoreSpan","highlightSpan","title","URL","hostname","score","author","by","numHighlights","Row","Col","xs","Highlight","l","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f6301282.chunk.js","sourcesContent":["import './App.css';\nimport React from \"react\";\nimport {Container, Row, Col} from \"react-bootstrap\"\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      news_ids: [],\n      stories: {}\n    }\n  }\n\n  componentDidMount() {\n    var url = \"https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty\"\n    fetch(url)\n      .then(response => response.json())\n      .then(json => {\n         this.setState({ news_ids: json.slice(0, 30) })\n         this.populateData()\n      });\n  }\n\n  populateData() {\n    var urls = this.state.news_ids.map((id) => \"https://hacker-news.firebaseio.com/v0/item/\" + id + \".json?print=pretty\")\n    Promise.all(\n      urls.map(url =>\n        fetch(url)\n          .then(res => res.json())\n      )\n    ).then(data => {\n      var stories = {}\n      var urls = []\n      for (let i = 0; i < data.length; i++) {\n        var storydata = data[i]\n        storydata[\"numHighlights\"] = 0\n        stories[data[i][\"id\"]] = storydata\n        urls.push(data[i].url ?? \"\")\n      }\n      this.setState({ stories: stories })\n      return urls\n    }).then(urls => {\n      fetch(\"https://hacker-news-dot-commandfeed.uc.r.appspot.com/getHighlights\", {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\"urls\": urls})\n      }).then(res => res.json())\n      .then(data => {\n        var stories = this.state.stories\n        for (let i = 0; i < data.length; i++) {\n          for (var key in stories) {\n            if (stories[key].url == data[i].url) {\n              var storyData = stories[key]\n              storyData[\"highlights\"] = data[i].highlights\n              storyData[\"numHighlights\"] = data[i].highlights.length\n              stories[key] = storyData\n              this.setState({ stories: stories })\n            }\n          }\n        }\n      })\n    })\n  }\n\n  render() {\n    var entries = this.state.news_ids.map((id, index) => <Entry key={index} number={index+1} data={this.state.stories[id]}/>)\n    return (\n      <Container>\n        <div className=\"App\">\n          <header className=\"App-header\">\n            Highlighted Hacker News\n          </header>\n        </div>\n        <div className=\"Content\">\n          {entries}\n        </div>\n      </Container>\n    );\n  }\n}\n\n\nclass Entry extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false\n    }\n    this.expand = this.expand.bind(this)\n    this.goToWebsite = this.goToWebsite.bind(this)\n  }\n\n  expand() {\n    this.setState({expanded: !this.state.expanded})\n  }\n\n  goToWebsite() {\n    if (this.props.data?.url != null) {\n      var url = this.props.data?.url\n      window.location.href = url\n    }\n  }\n\n  render() {\n    var highlights = <div></div>\n    if (this.state.expanded) {\n      var highlightRows = <div></div>\n      if (this.props.data?.highlights) {\n        highlightRows = this.props.data?.highlights.map(x => <Highlight text={x}/>)\n      }\n\n      highlights = <div>\n        {highlightRows}\n        <div className=\"EntryFooter\">\n          <span onClick={this.goToWebsite}>Visit Website</span>\n          <span onClick={this.expand}> | See Less</span>\n        </div>\n        </div>\n    }\n\n    var host = \"\"\n    var scoreSpan = <span></span>\n    var highlightSpan = <span></span>\n\n    if (this.props.data?.title != null) {\n      if (this.props.data?.url != null) {\n        host = \"(\" + new URL(this.props.data?.url).hostname + \")\"\n      }\n      var title = this.props.data?.title\n      var score = this.props.data?.score\n      var author = this.props.data?.by\n      var number = this.props?.number + \".\"\n      var numHighlights = this.props.data?.numHighlights\n      scoreSpan = <span>{score} points by {author}</span>\n\n      if (numHighlights > 0) {\n        if (numHighlights == 1) {\n          highlightSpan = <span onClick={this.expand}> | {numHighlights} Highlight</span>\n        } else {\n          highlightSpan = <span onClick={this.expand}> | {numHighlights} Highlights</span>\n        }\n      }\n    }\n    \n    return (\n      <Row className=\"Entry\">\n        <Col xs=\"auto\" className=\"EntryNumber\">\n          <b>{number}</b>\n        </Col>\n        <Col className=\"EntryDetails\">\n        <div onClick={this.expand} className=\"EntryTitle\">\n          <span>{title}</span>\n          <span className=\"EntryHost\">{host}</span>\n        </div>\n        <div className=\"EntrySubline\">\n          {scoreSpan}\n          {highlightSpan}\n        </div>\n        {highlights}\n        </Col>\n      </Row>\n    )\n  }\n}\n\nclass Highlight extends React.Component {\n  render() {\n    return (\n      <Row className=\"Highlight\">\n        <Col xs=\"auto\">\n          <div className=\"Thread\"></div>\n        </Col>\n        <Col xs={10} l={5}>\n          {this.props.text}\n        </Col>\n      </Row>\n    )\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}