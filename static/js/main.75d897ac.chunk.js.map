{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","props","showAbout","bind","state","news_ids","stories","fetch","then","response","json","setState","slice","populateData","urls","this","map","id","Promise","all","url","res","data","i","length","storydata","push","method","headers","body","JSON","stringify","key","storyData","highlights","entries","index","number","Container","className","onClick","React","Component","Entry","expanded","expand","goToWebsite","window","location","href","highlightRows","x","text","host","scoreSpan","highlightSpan","title","URL","hostname","score","author","by","numHighlights","Row","Col","xs","Highlight","l","AlertDismissible","Alert","variant","Heading","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.75d897ac.chunk.js","sourcesContent":["import './App.css';\nimport React from \"react\";\nimport {Container, Row, Col, Alert} from \"react-bootstrap\"\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.showAbout = this.showAbout.bind(this)\n    this.state = {\n      news_ids: [],\n      stories: {},\n      showAbout: false\n    }\n  }\n\n  componentDidMount() {\n    var url = \"https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty\"\n    fetch(url)\n      .then(response => response.json())\n      .then(json => {\n         this.setState({ news_ids: json.slice(0, 30) })\n         this.populateData()\n      });\n  }\n\n  populateData() {\n    var urls = this.state.news_ids.map((id) => \"https://hacker-news.firebaseio.com/v0/item/\" + id + \".json?print=pretty\")\n    Promise.all(\n      urls.map(url =>\n        fetch(url)\n          .then(res => res.json())\n      )\n    ).then(data => {\n      var stories = {}\n      var urls = []\n      for (let i = 0; i < data.length; i++) {\n        var storydata = data[i]\n        storydata[\"numHighlights\"] = 0\n        stories[data[i][\"id\"]] = storydata\n        urls.push(data[i].url ?? \"\")\n      }\n      this.setState({ stories: stories })\n      return urls\n    }).then(urls => {\n      fetch(\"https://hacker-news-dot-commandfeed.uc.r.appspot.com/getHighlights\", {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\"urls\": urls})\n      }).then(res => res.json())\n      .then(data => {\n        var stories = this.state.stories\n        for (let i = 0; i < data.length; i++) {\n          for (var key in stories) {\n            if (stories[key].url === data[i].url) {\n              var storyData = stories[key]\n              storyData[\"highlights\"] = data[i].highlights\n              storyData[\"numHighlights\"] = data[i].highlights.length\n              stories[key] = storyData\n              this.setState({ stories: stories })\n            }\n          }\n        }\n      })\n    })\n  }\n\n  showAbout() {\n    this.setState({showAbout: !this.state.showAbout})\n  }\n\n  render() {\n    var showAbout = <AlertDismissible />\n    if (!this.state.showAbout) {\n      showAbout = <div></div>\n    }\n\n    var entries = this.state.news_ids.map((id, index) => <Entry key={index} number={index+1} data={this.state.stories[id]}/>)\n    return (\n      <Container>\n        <div className=\"App\">\n        {showAbout}\n          <header className=\"App-header\">\n            <span>\n              Highlighted Hacker News\n            </span>\n            <span onClick={this.showAbout} className=\"About\">\n              about\n            </span>\n          </header>\n        </div>\n        <div className=\"Content\">\n          {entries}\n        </div>\n      </Container>\n    );\n  }\n}\n\n\nclass Entry extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false\n    }\n    this.expand = this.expand.bind(this)\n    this.goToWebsite = this.goToWebsite.bind(this)\n  }\n\n  expand() {\n    this.setState({expanded: !this.state.expanded})\n  }\n\n  goToWebsite() {\n    if (this.props.data?.url != null) {\n      var url = this.props.data?.url\n      window.location.href = url\n    }\n  }\n\n  render() {\n    var highlights = <div></div>\n    if (this.state.expanded) {\n      var highlightRows = <div></div>\n      if (this.props.data?.highlights) {\n        highlightRows = this.props.data?.highlights.map(x => <Highlight text={x}/>)\n      }\n\n      highlights = <div>\n        {highlightRows}\n        <div className=\"EntryFooter\">\n          <span onClick={this.goToWebsite}>Visit Website</span>\n          <span onClick={this.expand}> | See Less</span>\n        </div>\n        </div>\n    }\n\n    var host = \"\"\n    var scoreSpan = <span></span>\n    var highlightSpan = <span></span>\n\n    if (this.props.data?.title != null) {\n      if (this.props.data?.url != null) {\n        host = \"(\" + new URL(this.props.data?.url).hostname + \")\"\n      }\n      var title = this.props.data?.title\n      var score = this.props.data?.score\n      var author = this.props.data?.by\n      var number = this.props?.number + \".\"\n      var numHighlights = this.props.data?.numHighlights\n      scoreSpan = <span>{score} points by {author}</span>\n\n      if (numHighlights > 0) {\n        if (numHighlights === 1) {\n          highlightSpan = <span onClick={this.expand}> | <b className=\"boldHighlights\">{numHighlights} Highlight </b></span>\n        } else {\n          highlightSpan = <span onClick={this.expand}> | <b className=\"boldHighlights\">{numHighlights} Highlights </b></span>\n        }\n      }\n    }\n    \n    return (\n      <Row className=\"Entry\">\n        <Col xs=\"auto\" className=\"EntryNumber\">\n          <b>{number}</b>\n        </Col>\n        <Col className=\"EntryDetails\">\n        <div onClick={this.expand} className=\"EntryTitle\">\n          <span>{title}</span>\n          <span className=\"EntryHost\">{host}</span>\n        </div>\n        <div className=\"EntrySubline\">\n          {scoreSpan}\n          {highlightSpan}\n        </div>\n        {highlights}\n        </Col>\n      </Row>\n    )\n  }\n}\n\nclass Highlight extends React.Component {\n  render() {\n    return (\n      <Row className=\"Highlight\">\n        <Col xs=\"auto\">\n          <div className=\"Thread\"></div>\n        </Col>\n        <Col xs={10} l={5}>\n          {this.props.text}\n        </Col>\n      </Row>\n    )\n  }\n}\n\nclass AlertDismissible extends React.Component {\n  render() {\n    return (\n      <Alert variant=\"info\">\n        <Alert.Heading>Why Highlights?</Alert.Heading>\n        <p>\n          Hi There! I'm an avid Hacker News reader, but I sometimes find myself spending hours reading articles. I wanted to create Hacker News, but just the highlights, where people could understand teh general idea before committing to reading.\n        </p>\n        <hr />\n        <p className=\"mb-0\">\n          These are my highlights from the top articles - decided by me. I don't claim to the sole arbiter of truth here, but I hope it helps the Hacker community.\n        </p>\n      </Alert>\n    )\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}