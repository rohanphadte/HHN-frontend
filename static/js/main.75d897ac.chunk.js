(this.webpackJsonphacker_news=this.webpackJsonphacker_news||[]).push([[0],{22:function(t,e,s){},23:function(t,e,s){},28:function(t,e,s){"use strict";s.r(e);var n=s(0),i=s.n(n),a=s(6),r=s.n(a),c=(s(22),s(8)),o=s(9),h=s(7),l=s(11),d=s(10),u=(s(23),s(31)),j=s(32),b=s(33),p=s(34),v=s(1),O=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t)).showAbout=n.showAbout.bind(Object(h.a)(n)),n.state={news_ids:[],stories:{},showAbout:!1},n}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var t=this;fetch("https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty").then((function(t){return t.json()})).then((function(e){t.setState({news_ids:e.slice(0,30)}),t.populateData()}))}},{key:"populateData",value:function(){var t=this,e=this.state.news_ids.map((function(t){return"https://hacker-news.firebaseio.com/v0/item/"+t+".json?print=pretty"}));Promise.all(e.map((function(t){return fetch(t).then((function(t){return t.json()}))}))).then((function(e){for(var s={},n=[],i=0;i<e.length;i++){var a,r=e[i];r.numHighlights=0,s[e[i].id]=r,n.push(null!==(a=e[i].url)&&void 0!==a?a:"")}return t.setState({stories:s}),n})).then((function(e){fetch("https://hacker-news-dot-commandfeed.uc.r.appspot.com/getHighlights",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:e})}).then((function(t){return t.json()})).then((function(e){for(var s=t.state.stories,n=0;n<e.length;n++)for(var i in s)if(s[i].url===e[n].url){var a=s[i];a.highlights=e[n].highlights,a.numHighlights=e[n].highlights.length,s[i]=a,t.setState({stories:s})}}))}))}},{key:"showAbout",value:function(){this.setState({showAbout:!this.state.showAbout})}},{key:"render",value:function(){var t=this,e=Object(v.jsx)(g,{});this.state.showAbout||(e=Object(v.jsx)("div",{}));var s=this.state.news_ids.map((function(e,s){return Object(v.jsx)(x,{number:s+1,data:t.state.stories[e]},s)}));return Object(v.jsxs)(u.a,{children:[Object(v.jsxs)("div",{className:"App",children:[e,Object(v.jsxs)("header",{className:"App-header",children:[Object(v.jsx)("span",{children:"Highlighted Hacker News"}),Object(v.jsx)("span",{onClick:this.showAbout,className:"About",children:"about"})]})]}),Object(v.jsx)("div",{className:"Content",children:s})]})}}]),s}(i.a.Component),x=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t)).state={expanded:!1},n.expand=n.expand.bind(Object(h.a)(n)),n.goToWebsite=n.goToWebsite.bind(Object(h.a)(n)),n}return Object(o.a)(s,[{key:"expand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"goToWebsite",value:function(){var t;if(null!=(null===(t=this.props.data)||void 0===t?void 0:t.url)){var e,s=null===(e=this.props.data)||void 0===e?void 0:e.url;window.location.href=s}}},{key:"render",value:function(){var t,e=Object(v.jsx)("div",{});if(this.state.expanded){var s,n,i=Object(v.jsx)("div",{});if(null===(s=this.props.data)||void 0===s?void 0:s.highlights)i=null===(n=this.props.data)||void 0===n?void 0:n.highlights.map((function(t){return Object(v.jsx)(f,{text:t})}));e=Object(v.jsxs)("div",{children:[i,Object(v.jsxs)("div",{className:"EntryFooter",children:[Object(v.jsx)("span",{onClick:this.goToWebsite,children:"Visit Website"}),Object(v.jsx)("span",{onClick:this.expand,children:" | See Less"})]})]})}var a="",r=Object(v.jsx)("span",{}),c=Object(v.jsx)("span",{});if(null!=(null===(t=this.props.data)||void 0===t?void 0:t.title)){var o,h,l,d,u,p,O;if(null!=(null===(o=this.props.data)||void 0===o?void 0:o.url))a="("+new URL(null===(O=this.props.data)||void 0===O?void 0:O.url).hostname+")";var x=null===(h=this.props.data)||void 0===h?void 0:h.title,g=null===(l=this.props.data)||void 0===l?void 0:l.score,m=null===(d=this.props.data)||void 0===d?void 0:d.by,y=(null===(u=this.props)||void 0===u?void 0:u.number)+".",w=null===(p=this.props.data)||void 0===p?void 0:p.numHighlights;r=Object(v.jsxs)("span",{children:[g," points by ",m]}),w>0&&(c=1===w?Object(v.jsxs)("span",{onClick:this.expand,children:[" | ",Object(v.jsxs)("b",{className:"boldHighlights",children:[w," Highlight "]})]}):Object(v.jsxs)("span",{onClick:this.expand,children:[" | ",Object(v.jsxs)("b",{className:"boldHighlights",children:[w," Highlights "]})]}))}return Object(v.jsxs)(j.a,{className:"Entry",children:[Object(v.jsx)(b.a,{xs:"auto",className:"EntryNumber",children:Object(v.jsx)("b",{children:y})}),Object(v.jsxs)(b.a,{className:"EntryDetails",children:[Object(v.jsxs)("div",{onClick:this.expand,className:"EntryTitle",children:[Object(v.jsx)("span",{children:x}),Object(v.jsx)("span",{className:"EntryHost",children:a})]}),Object(v.jsxs)("div",{className:"EntrySubline",children:[r,c]}),e]})]})}}]),s}(i.a.Component),f=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(v.jsxs)(j.a,{className:"Highlight",children:[Object(v.jsx)(b.a,{xs:"auto",children:Object(v.jsx)("div",{className:"Thread"})}),Object(v.jsx)(b.a,{xs:10,l:5,children:this.props.text})]})}}]),s}(i.a.Component),g=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(v.jsxs)(p.a,{variant:"info",children:[Object(v.jsx)(p.a.Heading,{children:"Why Highlights?"}),Object(v.jsx)("p",{children:"Hi There! I'm an avid Hacker News reader, but I sometimes find myself spending hours reading articles. I wanted to create Hacker News, but just the highlights, where people could understand teh general idea before committing to reading."}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{className:"mb-0",children:"These are my highlights from the top articles - decided by me. I don't claim to the sole arbiter of truth here, but I hope it helps the Hacker community."})]})}}]),s}(i.a.Component),m=O,y=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,35)).then((function(e){var s=e.getCLS,n=e.getFID,i=e.getFCP,a=e.getLCP,r=e.getTTFB;s(t),n(t),i(t),a(t),r(t)}))};s(27);r.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(m,{})}),document.getElementById("root")),y()}},[[28,1,2]]]);
//# sourceMappingURL=main.75d897ac.chunk.js.map